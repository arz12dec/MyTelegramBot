from flask import Flask, request
import telebot
import os

TOKEN = "7697675014:AAEbeOmjJ83JQcw47Ydzgveqh2ecp3GtUnA"
bot = telebot.TeleBot(TOKEN)

app = Flask(__name__)

# ูุณุช ูพุงูโูุง ู ูพุงุณุฎโูุง ุฎูุฏฺฉุงุฑ
auto_replies = {
    "ุดุฑุงุท": """โจ ุดุฑุงุท ุณูุงุฑุด ุงููุฌ:
ุจุฑุง ุงูฺฉู ุณูุงุฑุดุชูู ุฑู ุจุง ุงุทููุงู ุดุฑูุน ฺฉููุ ณฐูช ุงุฒ ูุจูุบ ุณูุงุฑุด ุฑู ุจู ุนููุงู ูพุดโูพุฑุฏุงุฎุช ุฏุฑุงูุช ูโฺฉูู.
ุงู ฺฉุงุฑ ุจุงุนุซ ูุดู ุจุชููู ุทุฑุงุญ ุฑู ุจุง ุฎุงู ุฑุงุญุช ุดุฑูุน ฺฉูู ู ูุทูุฆู ุจุดู ฺฉู ูุธุฑุชูู ูุทุนู. ๐

ุจุนุฏ ุงุฒ ุซุจุช ุณูุงุฑุดุชูู:
โ ุงููุฌโูุง ุทุฑุงุญ ูุดู.
โ ูพุดโููุงุด ุจุฑุงุชูู ุงุฑุณุงู ูุดู ุชุง ุฑูฺฏ ู ุดฺฉู ฺฉู ุฑู ุชุฃุฏ ฺฉูุฏ.
โ ุจุนุฏ ุงุฒ ุชุฃุฏุ ูุงุจู ูุจูุบ ุฑู ูพุฑุฏุงุฎุช ูโฺฉูุฏ ู ููฺฉ ูพฺฉ ุงููุฌ ุจุฑุงุชูู ุงุฑุณุงู ูุดู.

โ ุงฺฏู ุจุง ุดุฑุงุท ููุงููุฏุ ููุท ฺฉููู "ุณูุงุฑุด" ุฑู ุจูุฑุณุชุฏ ุชุง ููฺฉ ูุฑู ุงุทูุงุนุงุช ุจุฑุงุชูู ุงุฑุณุงู ุจุดู.

ููููู ฺฉู ุจู ูุง ุงุนุชูุงุฏ ุฏุงุฑุฏโค๏ธ""",

    "ููุช": """๐ฐ ููุช ุงููุฌโูุง:
๐น ูุฑ ุงููุฌ ธฐ ูุฒุงุฑ ุชููุงู
๐น ูุซุงู: ูพฺฉ ณุชุง = ฒดฐ ูุฒุงุฑ ุชููุงู

๐ ุขูุฑ ูฺู:
ุงฺฏู ุณูุงุฑุด ุดูุง ุจุดุชุฑ ุงุฒ ธ ุงููุฌ ุจุงุดูุ ฒฐูช ุชุฎูู ุดุงูู ุญุงูุชูู ูุดู! ๐
โณ ุงู ุชุฎูู ูุญุฏูุฏูุ ูพุณ ุงฺฏู ูุตุฏ ุณูุงุฑุด ุฏุงุฑุฏุ ูพุดููุงุฏ ูโฺฉูู ุงู ูุฑุตุช ุฑู ุงุฒ ุฏุณุช ูุฏุฏ.

โ ุงฺฏู ุงุฒ ุดุฑุงุท ุณูุงุฑุด ุฎุจุฑ ูุฏุงุฑุฏุ ฺฉุงูู ฺฉููู "ุดุฑุงุท" ุฑู ุงุฑุณุงู ฺฉูุฏ ุชุง ุงุทูุงุนุงุช ฺฉุงูู ุจุฑุงุชูู ุงุฑุณุงู ุจุดู.""",

    "ุณูุงุฑุด": """๐ ูุฑู ุณูุงุฑุด:
ุญุงูุง ฺฉู ุจุง ุดุฑุงุท ู ููุชโูุง ุขุดูุง ุดุฏุฏุ ูุทูุงู ุงู ูุฑู ุฑู ุจุง ุฏูุช ูพุฑ ฺฉูุฏ ุชุง ุณูุงุฑุดุชูู ุณุฑุนโุชุฑ ู ุจุฏูู ูุดฺฉู ุงูุฌุงู ุจุดู. ๐
[ูุฑู ุณูุงุฑุด](https://docs.google.com/forms/d/e/1FAIpQLSf9iZTBtZBl-O2xeTFwnr07csSXenYQXeoUoLy1sVFRsgqr1Q/viewform?usp=dialog)

ููููู ฺฉู ููุฑุงู ูุง ูุณุชุฏโค๏ธ"""
}

@app.route("/", methods=["GET"])
def home():
    return "ุฑุจุงุช ูุนุงู ุงุณุช! โ"

@app.route("/webhook", methods=["POST"])
def webhook():
    update = request.get_json()
    if update:
        bot.process_new_updates([telebot.types.Update.de_json(update)])
    return "OK", 200

@bot.message_handler(func=lambda message: True)
def auto_reply(message):
    text = message.text.strip()
    if text in auto_replies:
        bot.reply_to(message, auto_replies[text], parse_mode="Markdown")

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=int(os.environ.get("PORT", 5000)))
